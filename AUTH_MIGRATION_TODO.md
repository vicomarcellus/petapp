# –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é - TODO

## –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ ‚úÖ

1. –î–æ–±–∞–≤–ª–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å User –≤ types.ts
2. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ userId –≤–æ –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (Pet, DayEntry, MedicationEntry, Medication, MedicationTag, SymptomTag)
3. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (db.ts) - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ users –∏ –∏–Ω–¥–µ–∫—Å—ã –ø–æ userId
4. –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Auth.tsx –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Telegram
5. –°–æ–∑–¥–∞–Ω —Å–µ—Ä–≤–∏—Å auth.ts –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
6. –û–±–Ω–æ–≤–ª–µ–Ω store.ts - –¥–æ–±–∞–≤–ª–µ–Ω currentUser
7. –û–±–Ω–æ–≤–ª–µ–Ω App.tsx - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
8. –û–±–Ω–æ–≤–ª–µ–Ω Header.tsx - –¥–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∫–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞
9. –û–±–Ω–æ–≤–ª–µ–Ω usePetInit.ts - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–∏—Ç–æ–º—Ü–µ–≤ –ø–æ userId
10. –û–±–Ω–æ–≤–ª–µ–Ω PetManager.tsx - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∏—Ç–æ–º—Ü–µ–≤ —Å userId

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å üîß

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ (–±–µ–∑ —ç—Ç–æ–≥–æ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å):

1. **–û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç –∑–∞–ø–∏—Å–∏:**
   - EntryView.tsx - –¥–æ–±–∞–≤–∏—Ç—å userId –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ DayEntry
   - MedicationManager.tsx - –¥–æ–±–∞–≤–∏—Ç—å userId –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Medication
   - ActivityLog.tsx - –¥–æ–±–∞–≤–∏—Ç—å userId –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ MedicationEntry
   - Settings.tsx - –¥–æ–±–∞–≤–∏—Ç—å userId –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–µ–≥–æ–≤

2. **–û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —á–∏—Ç–∞—é—Ç –¥–∞–Ω–Ω—ã–µ:**
   - Calendar.tsx - —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å dayEntries –ø–æ userId
   - Analytics.tsx - —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ userId
   - ChangeHistory.tsx - —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø–æ userId
   - MedicationSchedules.tsx - —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø–æ userId

3. **–û–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã:**
   - backup.ts - –¥–æ–±–∞–≤–∏—Ç—å userId –≤ —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç
   - history.ts - –¥–æ–±–∞–≤–∏—Ç—å userId –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–ø–∏—Å–µ–π –∏—Å—Ç–æ—Ä–∏–∏
   - medicationSchedule.ts - –¥–æ–±–∞–≤–∏—Ç—å userId –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π:

#### –ë—ã–ª–æ:
```typescript
const entries = useLiveQuery(() => 
  db.dayEntries.where('petId').equals(currentPetId).toArray()
);
```

#### –°—Ç–∞–ª–æ:
```typescript
const entries = useLiveQuery(() => 
  currentUser && currentPetId
    ? db.dayEntries
        .where(['userId', 'petId'])
        .equals([currentUser.id, currentPetId])
        .toArray()
    : []
);
```

#### –ë—ã–ª–æ:
```typescript
await db.dayEntries.add({
  petId: currentPetId,
  date: selectedDate,
  // ...
});
```

#### –°—Ç–∞–ª–æ:
```typescript
await db.dayEntries.add({
  userId: currentUser.id,
  petId: currentPetId,
  date: selectedDate,
  // ...
});
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞

–°–º. —Ñ–∞–π–ª TELEGRAM_AUTH_SETUP.md –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –°–æ–∑–¥–∞–π—Ç–µ Telegram –±–æ—Ç–∞
2. –û–±–Ω–æ–≤–∏—Ç–µ username –±–æ—Ç–∞ –≤ Auth.tsx
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
4. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ Telegram
5. –°–æ–∑–¥–∞–π—Ç–µ –ø–∏—Ç–æ–º—Ü–∞ –∏ –¥–æ–±–∞–≤—å—Ç–µ –∑–∞–ø–∏—Å–∏
6. –í—ã–π–¥–∏—Ç–µ –∏ –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞ - –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è
7. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –¥—Ä—É–≥–æ–º –±—Ä–∞—É–∑–µ—Ä–µ - –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏ (–ø–æ–∫–∞ –Ω–µ –≤–æ–π–¥–µ—Ç–µ)
