# üîë –ü–æ–ª—É—á–∏—Ç—å Service Role Key –¥–ª—è –±–æ—Ç–∞

## –ó–∞—á–µ–º –Ω—É–∂–µ–Ω Service Role Key?

–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ë–î, –º–∏–Ω—É—è RLS –ø–æ–ª–∏—Ç–∏–∫–∏.
–≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–Ω–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ).

## –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∫–ª—é—á

1. –û—Ç–∫—Ä–æ–π Supabase Dashboard
2. –ü–µ—Ä–µ–π–¥–∏ –≤ **Settings** ‚Üí **API**
3. –ù–∞–π–¥–∏ —Å–µ–∫—Ü–∏—é **Project API keys**
4. –°–∫–æ–ø–∏—Ä—É–π **service_role** –∫–ª—é—á (–ù–ï anon key!)

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –≠—Ç–æ—Ç –∫–ª—é—á –ù–ò–ö–û–ì–î–ê –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–ø–∞–¥–∞—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ –ø—É–±–ª–∏—á–Ω—ã–π –∫–æ–¥!

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

1. –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª `bot/.env`
2. –ó–∞–º–µ–Ω–∏ `SUPABASE_ANON_KEY` –Ω–∞ `SUPABASE_SERVICE_KEY`
3. –í—Å—Ç–∞–≤—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π service_role –∫–ª—é—á

```env
# Telegram Bot Token
BOT_TOKEN=—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω

# Supabase
SUPABASE_URL=https://—Ç–≤–æ–π-–ø—Ä–æ–µ–∫—Ç.supabase.co
SUPABASE_SERVICE_KEY=—Ç–≤–æ–π_service_role_–∫–ª—é—á_–∑–¥–µ—Å—å

# Webhook
WEBHOOK_URL=
PORT=3000
```

4. –û–±–Ω–æ–≤–∏ `bot/src/supabase.ts`:

```typescript
import { createClient } from '@supabase/supabase-js';

const supabaseUrl = process.env.SUPABASE_URL!;
const supabaseKey = process.env.SUPABASE_SERVICE_KEY!; // –ò–∑–º–µ–Ω–µ–Ω–æ —Å SUPABASE_ANON_KEY

export const supabase = createClient(supabaseUrl, supabaseKey);
```

5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞:
```bash
cd bot
npm run dev
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ:**
- Service key –≤ `.env` —Ñ–∞–π–ª–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- `.env` –≤ `.gitignore`
- –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –Ω–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

‚ùå **–ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ:**
- –ö–æ–º–º–∏—Ç–∏—Ç—å service key –≤ Git
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å service key –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å service key –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–µ—Å–ª–∏ –Ω–µ —Ö–æ—á–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å service key)

–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å Edge Function –≤ Supabase, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –æ—Ç –±–æ—Ç–∞ –∏ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.
–ù–æ —ç—Ç–æ —Å–ª–æ–∂–Ω–µ–µ –∏ –º–µ–¥–ª–µ–Ω–Ω–µ–µ.
