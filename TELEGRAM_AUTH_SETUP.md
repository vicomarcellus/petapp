# Настройка Telegram авторизации

## Шаг 1: Создание Telegram бота

1. Откройте Telegram и найдите [@BotFather](https://t.me/botfather)
2. Отправьте команду `/newbot`
3. Введите имя бота (например, "Pet Health Tracker")
4. Введите username бота (должен заканчиваться на `bot`, например, `pet_health_tracker_bot`)
5. Сохраните полученный токен (он понадобится позже)

## Шаг 2: Настройка домена для Login Widget

1. Отправьте BotFather команду `/setdomain`
2. Выберите вашего бота
3. Введите домен вашего приложения (например, `your-app.vercel.app`)
   - Для локальной разработки можно использовать `localhost`

## Шаг 3: Обновление кода

Откройте файл `src/components/Auth.tsx` и замените `YOUR_BOT_USERNAME` на username вашего бота:

```tsx
<script
  async
  src="https://telegram.org/js/telegram-widget.js?22"
  data-telegram-login="pet_health_tracker_bot"  // <-- Ваш username
  data-size="large"
  data-onauth="onTelegramAuth(user)"
  data-request-access="write"
/>
```

## Шаг 4: Проверка работы

1. Запустите приложение
2. При первом входе вы увидите экран авторизации
3. Нажмите кнопку "Log in via Telegram"
4. Авторизуйтесь через Telegram
5. Данные теперь привязаны к вашему Telegram аккаунту

## Как это работает

- Данные хранятся локально в IndexedDB браузера
- Каждая запись привязана к вашему Telegram ID
- При входе с другого устройства вы увидите те же данные
- Можно выйти из аккаунта и войти под другим пользователем

## Безопасность

- Telegram проверяет подлинность данных через криптографическую подпись
- Ваш токен бота не нужен в клиентском коде
- Данные хранятся только на вашем устройстве
- Никакие данные не отправляются на сервер (кроме авторизации через Telegram)

## Миграция существующих данных

Если у вас уже есть данные в приложении:

1. Экспортируйте данные через Настройки → Экспорт
2. Войдите через Telegram
3. Импортируйте данные через Настройки → Импорт

Данные автоматически привяжутся к вашему аккаунту.
